<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>C#编码规范 - 知识铺</title><meta description="1.概述 2.命名规范  2.1.大小写约定 2.1.1.大小写样式 2.1.2.标识符大小写规则 2.1.3.首字母缩写大小写规则 2.1.4.复合词与通用术语大小写规则 2.1.5.大小写敏感   2.2.常规命名约定 2.2.1.单词选择 2.2.2.缩写 2.2.3.特定语言命名   2.3.文件与目录命名 2.4.程序集命名 2.5.名字空间命名 2.5.1.一般规则 2.5.2.名字空"><meta property="og:type" content="blog"><meta property="og:title" content="C#编码规范"><meta property="og:url" content="https://zshipu.com/2019/11/22/C-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/"><meta property="og:site_name" content="知识铺"><meta property="og:description" content="1.概述 2.命名规范  2.1.大小写约定 2.1.1.大小写样式 2.1.2.标识符大小写规则 2.1.3.首字母缩写大小写规则 2.1.4.复合词与通用术语大小写规则 2.1.5.大小写敏感   2.2.常规命名约定 2.2.1.单词选择 2.2.2.缩写 2.2.3.特定语言命名   2.3.文件与目录命名 2.4.程序集命名 2.5.名字空间命名 2.5.1.一般规则 2.5.2.名字空"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://zshipu.com/img/og_image.png"><meta property="article:published_time" content="2019-11-22T05:16:37.000Z"><meta property="article:modified_time" content="2020-09-08T14:03:00.327Z"><meta property="article:author" content="知识铺"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zshipu.com/2019/11/22/C-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/"},"headline":"知识铺","image":["https://zshipu.com/img/og_image.png"],"datePublished":"2019-11-22T05:16:37.000Z","dateModified":"2020-09-08T14:03:00.327Z","author":{"@type":"Person","name":"知识铺"},"description":"1.概述 2.命名规范  2.1.大小写约定 2.1.1.大小写样式 2.1.2.标识符大小写规则 2.1.3.首字母缩写大小写规则 2.1.4.复合词与通用术语大小写规则 2.1.5.大小写敏感   2.2.常规命名约定 2.2.1.单词选择 2.2.2.缩写 2.2.3.特定语言命名   2.3.文件与目录命名 2.4.程序集命名 2.5.名字空间命名 2.5.1.一般规则 2.5.2.名字空"}</script><link rel="canonical" href="https://zshipu.com/2019/11/22/C-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oxanium:wght@300;400;600&amp;family=Roboto+Mono"><link rel="stylesheet" href="/css/cyberpunk.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><script data-ad-client="2183476622" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="generator" content="Hexo 5.1.1"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="知识铺" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2019-11-22T05:16:37.000Z" title="2019-11-22T05:16:37.000Z">2019-11-22</time>发表</span><span class="level-item"><time dateTime="2020-09-08T14:03:00.327Z" title="2020-09-08T14:03:00.327Z">2020-09-08</time>更新</span><span class="level-item"> 知识铺 </span><span class="level-item">42 分钟读完 (大约6343个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">C#编码规范</h1><div class="content"><p><a href="#1%E6%A6%82%E8%BF%B0">1.概述</a></p>
<p><a href="#2%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83">2.命名规范</a></p>
<ul>
<li><a href="#21%E5%A4%A7%E5%B0%8F%E5%86%99%E7%BA%A6%E5%AE%9A">2.1.大小写约定</a><ul>
<li><a href="#211%E5%A4%A7%E5%B0%8F%E5%86%99%E6%A0%B7%E5%BC%8F">2.1.1.大小写样式</a></li>
<li><a href="#212%E6%A0%87%E8%AF%86%E7%AC%A6%E5%A4%A7%E5%B0%8F%E5%86%99%E8%A7%84%E5%88%99">2.1.2.标识符大小写规则</a></li>
<li><a href="#213%E9%A6%96%E5%AD%97%E6%AF%8D%E7%BC%A9%E5%86%99%E5%A4%A7%E5%B0%8F%E5%86%99%E8%A7%84%E5%88%99">2.1.3.首字母缩写大小写规则</a></li>
<li><a href="#214%E5%A4%8D%E5%90%88%E8%AF%8D%E4%B8%8E%E9%80%9A%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%A4%A7%E5%B0%8F%E5%86%99%E8%A7%84%E5%88%99">2.1.4.复合词与通用术语大小写规则</a></li>
<li><a href="#215%E5%A4%A7%E5%B0%8F%E5%86%99%E6%95%8F%E6%84%9F">2.1.5.大小写敏感</a></li>
</ul>
</li>
<li><a href="#22%E5%B8%B8%E8%A7%84%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A">2.2.常规命名约定</a><ul>
<li><a href="#221%E5%8D%95%E8%AF%8D%E9%80%89%E6%8B%A9">2.2.1.单词选择</a></li>
<li><a href="#222%E7%BC%A9%E5%86%99">2.2.2.缩写</a></li>
<li><a href="#223%E7%89%B9%E5%AE%9A%E8%AF%AD%E8%A8%80%E5%91%BD%E5%90%8D">2.2.3.特定语言命名</a></li>
</ul>
</li>
<li><a href="#23%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E5%91%BD%E5%90%8D">2.3.文件与目录命名</a></li>
<li><a href="#24%E7%A8%8B%E5%BA%8F%E9%9B%86%E5%91%BD%E5%90%8D">2.4.程序集命名</a></li>
<li><a href="#25%E5%90%8D%E5%AD%97%E7%A9%BA%E9%97%B4%E5%91%BD%E5%90%8D">2.5.名字空间命名</a><ul>
<li><a href="#251%E4%B8%80%E8%88%AC%E8%A7%84%E5%88%99">2.5.1.一般规则</a></li>
<li><a href="#252%E5%90%8D%E5%AD%97%E7%A9%BA%E9%97%B4%E5%8F%8A%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%90%8D%E5%AD%97%E5%86%B2%E7%AA%81">2.5.2.名字空间及类型的名字冲突</a></li>
</ul>
</li>
<li><a href="#26%E7%B1%BB%E3%80%81%E7%BB%93%E6%9E%84%E3%80%81%E6%8E%A5%E5%8F%A3%E5%91%BD%E5%90%8D">2.6.类、结构、接口命名</a><ul>
<li><a href="#261%E4%B8%80%E8%88%AC%E8%A7%84%E5%88%99">2.6.1.一般规则</a></li>
<li><a href="#262%E8%8C%83%E5%9E%8B%E5%8F%82%E6%95%B0%E5%91%BD%E5%90%8D">2.6.2.范型参数命名</a></li>
<li><a href="#263%E4%B8%80%E8%88%AC%E7%B1%BB%E5%9E%8B%E5%91%BD%E5%90%8D">2.6.3.一般类型命名</a></li>
<li><a href="#264%E6%9E%9A%E4%B8%BE%E5%91%BD%E5%90%8D">2.6.4.枚举命名</a></li>
</ul>
</li>
<li><a href="#27%E7%B1%BB%E6%88%90%E5%91%98%E5%91%BD%E5%90%8D">2.7.类成员命名</a><ul>
<li><a href="#271%E6%96%B9%E6%B3%95%E5%91%BD%E5%90%8D">2.7.1.方法命名</a></li>
<li><a href="#272%E5%B1%9E%E6%80%A7%E5%91%BD%E5%90%8D">2.7.2.属性命名</a></li>
<li><a href="#273%E4%BA%8B%E4%BB%B6%E5%91%BD%E5%90%8D">2.7.3.事件命名</a></li>
<li><a href="#274%E5%AD%97%E6%AE%B5%E5%91%BD%E5%90%8D">2.7.4.字段命名</a></li>
</ul>
</li>
<li><a href="#28%E5%8F%82%E6%95%B0%E5%91%BD%E5%90%8D">2.8.参数命名</a></li>
</ul>
<p><a href="#3%E5%87%BD%E6%95%B0%E7%BC%96%E7%A0%81">3.函数编码</a></p>
<ul>
<li><a href="#31%E7%A9%BA%E6%A0%BC%E7%A9%BA%E8%A1%8C%E4%B8%8E%E7%BC%A9%E8%BF%9B%E7%9A%84%E4%BD%BF%E7%94%A8">3.1.空格、空行与缩进的使用</a></li>
<li><a href="#32%E4%B8%80%E8%88%AC%E7%BC%96%E7%A0%81%E7%BA%A6%E5%AE%9A">3.2.一般编码约定</a></li>
</ul>
<p><a href="#4%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86">4.异常处理</a></p>
<p><a href="#5%E6%B3%A8%E9%87%8A%E8%A7%84%E8%8C%83">5.注释规范</a></p>
<ul>
<li><a href="#51c%E6%A0%87%E5%87%86%E6%B3%A8%E9%87%8A%E7%9A%84%E4%BD%BF%E7%94%A8">5.1.C#标准///注释的使用</a></li>
<li><a href="#52%E4%B8%80%E8%88%AC%E6%B3%A8%E9%87%8A">5.2.一般注释</a></li>
<li><a href="#53%E5%85%B6%E4%BB%96%E6%B3%A8%E9%87%8A">5.3.其他注释</a></li>
</ul>
<p><a href="#6%E6%97%A5%E5%BF%97%E8%A7%84%E8%8C%83">6.日志规范</a></p>
<h1 id="1-概述"><a href="#1-概述" class="headerlink" title="1.概述"></a>1.概述</h1><p>本文档在《C#程序设计与编码规范》2005年版(Old_Backup/编码规范目录)内的基础上缩编修订而成。更多的.net设计知识，请参阅微软出版的相关指南。</p>
<h1 id="2-命名规范"><a href="#2-命名规范" class="headerlink" title="2.命名规范"></a>2.命名规范</h1><h2 id="2-1-大小写约定"><a href="#2-1-大小写约定" class="headerlink" title="2.1.大小写约定"></a>2.1.大小写约定</h2><h3 id="2-1-1-大小写样式"><a href="#2-1-1-大小写样式" class="headerlink" title="2.1.1.大小写样式"></a>2.1.1.大小写样式</h3><ul>
<li><p>Pascal大小写</p>
<p>  将标识符的首字母和后面连接的每个单词的首字母都大写。例如：BlackColor。</p>
</li>
<li><p>Camel大小写</p>
<p>  标识符的首字母小写，而每个后面连接的单词的首字母都大写。例如：blackColor。</p>
</li>
<li><p>大写</p>
<p>  标识符中的所有字母都大写。仅对于由两个或者更少字母组成的标识符使用该约定。例如：IO。</p>
</li>
<li><p>Private Camel大小写</p>
<p>  标识符首字母为下划线”_”，后面单词采用Camel大小写。例如：_blackColor。</p>
</li>
</ul>
<h3 id="2-1-2-标识符大小写规则"><a href="#2-1-2-标识符大小写规则" class="headerlink" title="2.1.2.标识符大小写规则"></a>2.1.2.标识符大小写规则</h3><p>当标识符由多个单词组成的时候，不要在词间使用诸如”_”（Unix C程序样式 ）和”-“之类的分隔符。而要通过大小写来分隔单词。</p>
<p>下面给出一般标识符的大小写规则：</p>
<h4 id="1-名字空间、类型、属性、方法、事件、只读字段及所有public成员的名称采用Pascal大小写。"><a href="#1-名字空间、类型、属性、方法、事件、只读字段及所有public成员的名称采用Pascal大小写。" class="headerlink" title="1.名字空间、类型、属性、方法、事件、只读字段及所有public成员的名称采用Pascal大小写。"></a>1.名字空间、类型、属性、方法、事件、只读字段及所有public成员的名称采用Pascal大小写。</h4><h4 id="2-参数、局部变量名称采用Camel大小写。"><a href="#2-参数、局部变量名称采用Camel大小写。" class="headerlink" title="2.参数、局部变量名称采用Camel大小写。"></a>2.参数、局部变量名称采用Camel大小写。</h4><h4 id="3-私有字段，Private-Camel大小写。"><a href="#3-私有字段，Private-Camel大小写。" class="headerlink" title="3.私有字段，Private Camel大小写。"></a>3.私有字段，Private Camel大小写。</h4><p>下表汇总了大写规则，并提供了不同类型的标识符的示例：</p>
<table>
<thead>
<tr>
<th>标识符</th>
<th>大小写</th>
<th>例子</th>
</tr>
</thead>
<tbody><tr>
<td>名字空间</td>
<td>Pascal</td>
<td>System.Drawing</td>
</tr>
<tr>
<td>类</td>
<td>Pascal</td>
<td>AppDomain</td>
</tr>
<tr>
<td>接口</td>
<td>Pascal</td>
<td>IDisposable</td>
</tr>
<tr>
<td>枚举类型</td>
<td>Pascal</td>
<td>ErrorLevel</td>
</tr>
<tr>
<td>枚举值</td>
<td>Pascal</td>
<td>FatalError</td>
</tr>
<tr>
<td>方法</td>
<td>Pascal</td>
<td>ToString</td>
</tr>
<tr>
<td>属性</td>
<td>Pascal</td>
<td>BackColor</td>
</tr>
<tr>
<td>事件</td>
<td>Pascal</td>
<td>ValueChanged</td>
</tr>
<tr>
<td>只读静态字段</td>
<td>Pascal</td>
<td>RedValue</td>
</tr>
<tr>
<td>参数</td>
<td>Camel</td>
<td>typeName</td>
</tr>
<tr>
<td>局部变量</td>
<td>Camel</td>
<td>targetCount</td>
</tr>
<tr>
<td>私有字段</td>
<td>Private Camel</td>
<td>_brushColor</td>
</tr>
</tbody></table>
<h3 id="2-1-3-首字母缩写大小写规则"><a href="#2-1-3-首字母缩写大小写规则" class="headerlink" title="2.1.3.首字母缩写大小写规则"></a>2.1.3.首字母缩写大小写规则</h3><p>首字母缩写(Acronyms)是由短语内各单词的字母构成。例如：HTML是Hypertext Markup Lanugage的首字母缩写。只有众所周知的首字母缩写才可以包含在标识符里。首字母缩写(Acronyms)与缩写词(Abbreviation)不同，缩写词（Abbreviation）仅简化一个单词。例如：ID是identifier的缩写词。一般情况下，不要使用缩写词。</p>
<p>特例：ID及OK两个缩写词可被用于标识符。但是应该依据使用环境，遵循Pascal或Camel大小写。</p>
<p>首字母缩写的大小写依赖于它的长度。所有的首字母缩写至少两个字母长。如果正好是两个字母长，被称作短首字母缩写（short acronyms）。三个或三个以上长度的首字母缩写，被称作长首字母缩写（long acronyms）。</p>
<p>下面给出长短首字母缩写的规则，标识符的大小写优先级更高。</p>
<h4 id="4-短首字母缩写的两个字母均应大写，除非是Camel大小写标识符的第一个词。"><a href="#4-短首字母缩写的两个字母均应大写，除非是Camel大小写标识符的第一个词。" class="headerlink" title="4.短首字母缩写的两个字母均应大写，除非是Camel大小写标识符的第一个词。"></a>4.短首字母缩写的两个字母均应大写，除非是Camel大小写标识符的第一个词。</h4><p>例如：属性名称DBRate中首字母缩写DB，是Pascal大小写标识符首单词。</p>
<p>例如：参数名称ioChannel中首字母缩写io，是Camel大小写标识符首单词。</p>
<h4 id="5-长首字母缩的第一个字母大写，除非是Camel大小写的标识符的第一个词。"><a href="#5-长首字母缩的第一个字母大写，除非是Camel大小写的标识符的第一个词。" class="headerlink" title="5.长首字母缩的第一个字母大写，除非是Camel大小写的标识符的第一个词。"></a>5.长首字母缩的第一个字母大写，除非是Camel大小写的标识符的第一个词。</h4><p>例如：类名称XmlWriter中的首字母缩写Xml，是Pascal小写标识符首单词。</p>
<p>例如：参数名称htmlWriter中的首字母缩写html，是Camel大小写标识符首单词。</p>
<h3 id="2-1-4-复合词与通用术语大小写规则"><a href="#2-1-4-复合词与通用术语大小写规则" class="headerlink" title="2.1.4.复合词与通用术语大小写规则"></a>2.1.4.复合词与通用术语大小写规则</h3><h4 id="6-不要将所谓封闭形式的复合词内的单词大写。他们是被作为单独的词的复合词，比如”endpoint”。确定一个词是否为封闭形式的复合词，查最新字典即可。"><a href="#6-不要将所谓封闭形式的复合词内的单词大写。他们是被作为单独的词的复合词，比如”endpoint”。确定一个词是否为封闭形式的复合词，查最新字典即可。" class="headerlink" title="6.不要将所谓封闭形式的复合词内的单词大写。他们是被作为单独的词的复合词，比如”endpoint”。确定一个词是否为封闭形式的复合词，查最新字典即可。"></a>6.不要将所谓封闭形式的复合词内的单词大写。他们是被作为单独的词的复合词，比如”endpoint”。确定一个词是否为封闭形式的复合词，查最新字典即可。</h4><p>例如：hashtable是一个封闭形式的，从而应当作为单独的词来对待及处理大小写。采用Pascal大小写，它是Hashtable；采用Camel大小写，它是hashtable。</p>
<p>下面一些通用术语不是封闭形式的复合词，采用Pacal及Camel两种方式展现。</p>
<ul>
<li>BitFlag (bitFlag)</li>
<li>FileName (fileName)</li>
<li>LogOff (logOff)</li>
<li>LogOn (logOn)</li>
<li>SignIn (signIn)</li>
<li>SignOut (signOut)</li>
<li>UserName (userName)</li>
<li>WhiteSpace (whiteSpace)</li>
</ul>
<h3 id="2-1-5-大小写敏感"><a href="#2-1-5-大小写敏感" class="headerlink" title="2.1.5.大小写敏感"></a>2.1.5.大小写敏感</h3><h4 id="7-有些语言大小写不敏感，因此不要仅通过大小写来区分不同的标识符。"><a href="#7-有些语言大小写不敏感，因此不要仅通过大小写来区分不同的标识符。" class="headerlink" title="7.有些语言大小写不敏感，因此不要仅通过大小写来区分不同的标识符。"></a>7.有些语言大小写不敏感，因此不要仅通过大小写来区分不同的标识符。</h4><h4 id="8-Url使用aspx文件名的地方，与aspx文件名大小写一致。"><a href="#8-Url使用aspx文件名的地方，与aspx文件名大小写一致。" class="headerlink" title="8.Url使用aspx文件名的地方，与aspx文件名大小写一致。"></a>8.Url使用aspx文件名的地方，与aspx文件名大小写一致。</h4><h2 id="2-2-常规命名约定"><a href="#2-2-常规命名约定" class="headerlink" title="2.2.常规命名约定"></a>2.2.常规命名约定</h2><p>此部分是用于所有标识符命名，后面的章节将讨论特殊的元素，如名字空间及属性。</p>
<h3 id="2-2-1-单词选择"><a href="#2-2-1-单词选择" class="headerlink" title="2.2.1.单词选择"></a>2.2.1.单词选择</h3><h4 id="9-标识符命名均采用英文，注意拼写正确。"><a href="#9-标识符命名均采用英文，注意拼写正确。" class="headerlink" title="9.标识符命名均采用英文，注意拼写正确。"></a>9.标识符命名均采用英文，注意拼写正确。</h4><h4 id="10-选择可读的标识符名称。"><a href="#10-选择可读的标识符名称。" class="headerlink" title="10.选择可读的标识符名称。"></a>10.选择可读的标识符名称。</h4><p>比如：属性名称HorizontalAlignment比AlignmentHorizontal在英语中更可读。</p>
<h4 id="11-可读性比缩写简单性更重要。"><a href="#11-可读性比缩写简单性更重要。" class="headerlink" title="11.可读性比缩写简单性更重要。"></a>11.可读性比缩写简单性更重要。</h4><p>比如：属性名称CanScrollHorizontally比ScrollableX更好。</p>
<h4 id="12-请不要使用任何下划线”-”、连字符”-“等非字母字符。私有字段首字符除外-Private-Camel样式-。"><a href="#12-请不要使用任何下划线”-”、连字符”-“等非字母字符。私有字段首字符除外-Private-Camel样式-。" class="headerlink" title="12.请不要使用任何下划线”_”、连字符”-“等非字母字符。私有字段首字符除外(Private Camel样式)。"></a>12.请不要使用任何下划线”_”、连字符”-“等非字母字符。私有字段首字符除外(Private Camel样式)。</h4><h4 id="13-避免使用与C-、VB、C-语言关键字冲突的标识符名称。"><a href="#13-避免使用与C-、VB、C-语言关键字冲突的标识符名称。" class="headerlink" title="13.避免使用与C#、VB、C++语言关键字冲突的标识符名称。"></a>13.避免使用与C#、VB、C++语言关键字冲突的标识符名称。</h4><h3 id="2-2-2-缩写"><a href="#2-2-2-缩写" class="headerlink" title="2.2.2.缩写"></a>2.2.2.缩写</h3><p>一般情况下不应该使用缩写，这样会使程序不容易读，另外也很难确定缩写是否广为人知。</p>
<h4 id="14-不要将缩写作为标识符中间的部分。"><a href="#14-不要将缩写作为标识符中间的部分。" class="headerlink" title="14.不要将缩写作为标识符中间的部分。"></a>14.不要将缩写作为标识符中间的部分。</h4><p>例如：使用OnButtonClick而不是OnBtnClick</p>
<h4 id="15-在必要的时候，为提高程序的简洁及可读性，使用广为人知的缩写。"><a href="#15-在必要的时候，为提高程序的简洁及可读性，使用广为人知的缩写。" class="headerlink" title="15.在必要的时候，为提高程序的简洁及可读性，使用广为人知的缩写。"></a>15.在必要的时候，为提高程序的简洁及可读性，使用广为人知的缩写。</h4><h3 id="2-2-3-特定语言命名"><a href="#2-2-3-特定语言命名" class="headerlink" title="2.2.3.特定语言命名"></a>2.2.3.特定语言命名</h3><h4 id="16-用语意命名标识符，而不要用C-关键字。"><a href="#16-用语意命名标识符，而不要用C-关键字。" class="headerlink" title="16.用语意命名标识符，而不要用C#关键字。"></a>16.用语意命名标识符，而不要用C#关键字。</h4><p>例如：使用GetLength而不是GetInt</p>
<h4 id="17-当标识符没有特定语意的时候，采用CLR类型名，而不要用C-关键字。"><a href="#17-当标识符没有特定语意的时候，采用CLR类型名，而不要用C-关键字。" class="headerlink" title="17.当标识符没有特定语意的时候，采用CLR类型名，而不要用C#关键字。"></a>17.当标识符没有特定语意的时候，采用CLR类型名，而不要用C#关键字。</h4><p>例如：将数据转换成Int16类型的函数，应该被命名为ToInt16，而不是ToShort，因为short仅仅是Int16在C#语言中的对应类型名。</p>
<h4 id="18-当标识符即没有特定语意，其类型也并不重要的时候，应采用一般的名称，诸如value或item。"><a href="#18-当标识符即没有特定语意，其类型也并不重要的时候，应采用一般的名称，诸如value或item。" class="headerlink" title="18.当标识符即没有特定语意，其类型也并不重要的时候，应采用一般的名称，诸如value或item。"></a>18.当标识符即没有特定语意，其类型也并不重要的时候，应采用一般的名称，诸如value或item。</h4><h2 id="2-3-文件与目录命名"><a href="#2-3-文件与目录命名" class="headerlink" title="2.3.文件与目录命名"></a>2.3.文件与目录命名</h2><h4 id="19-每个类型（包括类、结构、接口、枚举）存放在一个文件，文件名与类型名称一致。自动生成程序除外。"><a href="#19-每个类型（包括类、结构、接口、枚举）存放在一个文件，文件名与类型名称一致。自动生成程序除外。" class="headerlink" title="19.每个类型（包括类、结构、接口、枚举）存放在一个文件，文件名与类型名称一致。自动生成程序除外。"></a>19.每个类型（包括类、结构、接口、枚举）存放在一个文件，文件名与类型名称一致。自动生成程序除外。</h4><h4 id="20-特殊的名字空间，放在单独的目录里，目录名字与名字空间相一致。"><a href="#20-特殊的名字空间，放在单独的目录里，目录名字与名字空间相一致。" class="headerlink" title="20.特殊的名字空间，放在单独的目录里，目录名字与名字空间相一致。"></a>20.特殊的名字空间，放在单独的目录里，目录名字与名字空间相一致。</h4><h2 id="2-4-程序集命名"><a href="#2-4-程序集命名" class="headerlink" title="2.4.程序集命名"></a>2.4.程序集命名</h2><h4 id="21-为程序集命名，以提示其主要功能，程序集的名称最好和名字空间名称相一致。"><a href="#21-为程序集命名，以提示其主要功能，程序集的名称最好和名字空间名称相一致。" class="headerlink" title="21.为程序集命名，以提示其主要功能，程序集的名称最好和名字空间名称相一致。"></a>21.为程序集命名，以提示其主要功能，程序集的名称最好和名字空间名称相一致。</h4><p>采用如下方式命名：</p>
<p><code>WanFangData.&lt;Component&gt;.dll</code></p>
<p>其中Component包含一个或多个点分隔的字句。</p>
<p>例如：WanFangData.WebContorls.dll</p>
<h2 id="2-5-名字空间命名"><a href="#2-5-名字空间命名" class="headerlink" title="2.5.名字空间命名"></a>2.5.名字空间命名</h2><h3 id="2-5-1-一般规则"><a href="#2-5-1-一般规则" class="headerlink" title="2.5.1.一般规则"></a>2.5.1.一般规则</h3><p>名字空间的名称，应能提示在此名字空间内的所有类型的主要功能。比如System.Socket名字空间所包含的类型，能够让程序员通过Socket方式进行网路通讯编程。</p>
<p>一般的命名规则是：</p>
<p><code>WanFangData.(&lt;ProductName&gt;|&lt;Technology&gt;)[.&lt;Feature&gt;][.&lt;Subnamespace&gt;]</code></p>
<p>例如：Micorsoft.WindowsMobile.DirectX</p>
<h4 id="22-名字空间的名字应该有很长的生命期，因此不要在里面加版本号、机构名称等易变的名称。"><a href="#22-名字空间的名字应该有很长的生命期，因此不要在里面加版本号、机构名称等易变的名称。" class="headerlink" title="22.名字空间的名字应该有很长的生命期，因此不要在里面加版本号、机构名称等易变的名称。"></a>22.名字空间的名字应该有很长的生命期，因此不要在里面加版本号、机构名称等易变的名称。</h4><h4 id="23-采用Pascal大小写。"><a href="#23-采用Pascal大小写。" class="headerlink" title="23.采用Pascal大小写。"></a>23.采用Pascal大小写。</h4><h4 id="24-在适当的时候使用复数名称，缩写除外。"><a href="#24-在适当的时候使用复数名称，缩写除外。" class="headerlink" title="24.在适当的时候使用复数名称，缩写除外。"></a>24.在适当的时候使用复数名称，缩写除外。</h4><p>例如：应写System.Collections而不是System.Collection。</p>
<p>例如：应写System.IO而不是System.IOs。（缩写）</p>
<h4 id="25-不要让名字空间及类具有相同的名称。"><a href="#25-不要让名字空间及类具有相同的名称。" class="headerlink" title="25.不要让名字空间及类具有相同的名称。"></a>25.不要让名字空间及类具有相同的名称。</h4><p>例如：不要在一个名为Debug的名字空间中同时提供一个名为Debug的类。</p>
<h3 id="2-5-2-名字空间及类型的名字冲突"><a href="#2-5-2-名字空间及类型的名字冲突" class="headerlink" title="2.5.2.名字空间及类型的名字冲突"></a>2.5.2.名字空间及类型的名字冲突</h3><p>应尽量避免与已经存在的类库有名字冲突，否则用户将不得不改变程序，并使用限定名称。下面的讨论将与四类名字空间有关：</p>
<ul>
<li><p>应用模型名字空间</p>
<p>  诸如System.Windows.Forms，System.Web等与应用密切相关的名字空间。不同的应用很少同时在一个程序内使用，因此不容易出现冲突。</p>
</li>
<li><p>基础名字空间</p>
<p>  基础应用提供提供特殊支持，并很少在代码中引用。比如：*.Designer，*.Permissions名字空间。很难出现冲突。</p>
</li>
<li><p>核心名字空间</p>
<p>  核心名字空间是System.*名字空间。开发人员应该尽力，不产生名字冲突。（可以查Document，以识别此名称是否已经存在）</p>
</li>
<li><p>技术名字空间</p>
<p>  技术名字空间一般为Company.Technology.*，应避免与其冲突。</p>
</li>
</ul>
<h4 id="26-不要引入一般类型名称，应该使用限定的一般类型名称。"><a href="#26-不要引入一般类型名称，应该使用限定的一般类型名称。" class="headerlink" title="26.不要引入一般类型名称，应该使用限定的一般类型名称。"></a>26.不要引入一般类型名称，应该使用限定的一般类型名称。</h4><p>例如：Element，Node，Log及Message等。这样很容易产生冲突。</p>
<p>限定后：FormElement，XmlNode，EventLog，SoapMessage。</p>
<h4 id="27-不要引入与程序模型名字空间冲突的类型名。"><a href="#27-不要引入与程序模型名字空间冲突的类型名。" class="headerlink" title="27.不要引入与程序模型名字空间冲突的类型名。"></a>27.不要引入与程序模型名字空间冲突的类型名。</h4><p>例如：为Windows Form应用的用户写的控件库，请不要将类型命名为CheckBox，因为此名称已经存在于Windows Form应用中。</p>
<h4 id="28-不要与核心名字空间名字冲突。"><a href="#28-不要与核心名字空间名字冲突。" class="headerlink" title="28.不要与核心名字空间名字冲突。"></a>28.不要与核心名字空间名字冲突。</h4><p>例如：不要使用Dictionary类型名称，因为它在核心名字空间里存在。</p>
<h4 id="29-不要在统一的技术名字空间内，使用相同的类名。"><a href="#29-不要在统一的技术名字空间内，使用相同的类名。" class="headerlink" title="29.不要在统一的技术名字空间内，使用相同的类名。"></a>29.不要在统一的技术名字空间内，使用相同的类名。</h4><h2 id="2-6-类、结构、接口命名"><a href="#2-6-类、结构、接口命名" class="headerlink" title="2.6.类、结构、接口命名"></a>2.6.类、结构、接口命名</h2><h3 id="2-6-1-一般规则"><a href="#2-6-1-一般规则" class="headerlink" title="2.6.1.一般规则"></a>2.6.1.一般规则</h3><h4 id="30-类型使用名词、名词短语或形容词短语，名称应反映使用场景。"><a href="#30-类型使用名词、名词短语或形容词短语，名称应反映使用场景。" class="headerlink" title="30.类型使用名词、名词短语或形容词短语，名称应反映使用场景。"></a>30.类型使用名词、名词短语或形容词短语，名称应反映使用场景。</h4><h4 id="31-类名称不要加前缀（比如C、T）。（注：Delphi等语言的约定）"><a href="#31-类名称不要加前缀（比如C、T）。（注：Delphi等语言的约定）" class="headerlink" title="31.类名称不要加前缀（比如C、T）。（注：Delphi等语言的约定）"></a>31.类名称不要加前缀（比如C、T）。（注：Delphi等语言的约定）</h4><h4 id="32-考虑子类采用基类名称作为后缀。"><a href="#32-考虑子类采用基类名称作为后缀。" class="headerlink" title="32.考虑子类采用基类名称作为后缀。"></a>32.考虑子类采用基类名称作为后缀。</h4><p>例如：从Stream继承的类，采用Stream作为后缀。</p>
<p>例如：从Exception继承的类，采用Exception作为后缀。</p>
<h4 id="33-接口前面都加字母“I”前缀"><a href="#33-接口前面都加字母“I”前缀" class="headerlink" title="33.接口前面都加字母“I”前缀"></a>33.接口前面都加字母“I”前缀</h4><h4 id="34-当定义接口-类对时，接口的默认实现类名称与接口名称只有前缀I有差别。"><a href="#34-当定义接口-类对时，接口的默认实现类名称与接口名称只有前缀I有差别。" class="headerlink" title="34.当定义接口/类对时，接口的默认实现类名称与接口名称只有前缀I有差别。"></a>34.当定义接口/类对时，接口的默认实现类名称与接口名称只有前缀I有差别。</h4><p>例如：IAsynResult的默认实现名称为AsynResult。</p>
<h3 id="2-6-2-范型参数命名"><a href="#2-6-2-范型参数命名" class="headerlink" title="2.6.2.范型参数命名"></a>2.6.2.范型参数命名</h3><h4 id="35-范型参数应使用有描述性名称，除非单个字母足够且描述性名称并不增加什么价值。"><a href="#35-范型参数应使用有描述性名称，除非单个字母足够且描述性名称并不增加什么价值。" class="headerlink" title="35.范型参数应使用有描述性名称，除非单个字母足够且描述性名称并不增加什么价值。"></a>35.范型参数应使用有描述性名称，除非单个字母足够且描述性名称并不增加什么价值。</h4><p>例如：IDictionary&lt;TKey,TValue&gt;。</p>
<h4 id="36-需要使用单字母命名类型参数的时候，使用字母“T”。"><a href="#36-需要使用单字母命名类型参数的时候，使用字母“T”。" class="headerlink" title="36.需要使用单字母命名类型参数的时候，使用字母“T”。"></a>36.需要使用单字母命名类型参数的时候，使用字母“T”。</h4><h4 id="37-类型参数前缀加字母“T”。"><a href="#37-类型参数前缀加字母“T”。" class="headerlink" title="37.类型参数前缀加字母“T”。"></a>37.类型参数前缀加字母“T”。</h4><p>例如：TKey。</p>
<h4 id="38-考虑在范型参数名称中加入类型约束。"><a href="#38-考虑在范型参数名称中加入类型约束。" class="headerlink" title="38.考虑在范型参数名称中加入类型约束。"></a>38.考虑在范型参数名称中加入类型约束。</h4><p>例如：参数限制为ISession的，应被命名为TSession。</p>
<h3 id="2-6-3-一般类型命名"><a href="#2-6-3-一般类型命名" class="headerlink" title="2.6.3.一般类型命名"></a>2.6.3.一般类型命名</h3><p>下面规则，通过前后缀，帮助开发人员识别类的特定使用情景。</p>
<h4 id="39-自定义属性，需要加后缀Attribute。"><a href="#39-自定义属性，需要加后缀Attribute。" class="headerlink" title="39.自定义属性，需要加后缀Attribute。"></a>39.自定义属性，需要加后缀Attribute。</h4><p>例如：ObsoleteAttribute。</p>
<h4 id="40-在事件（event）中使用的类型，需要加后缀EventHandler。"><a href="#40-在事件（event）中使用的类型，需要加后缀EventHandler。" class="headerlink" title="40.在事件（event）中使用的类型，需要加后缀EventHandler。"></a>40.在事件（event）中使用的类型，需要加后缀EventHandler。</h4><p>例如：AssemblyLoadEventHandler</p>
<h4 id="41-不用于事件的委托-delegate-类型，需要加后缀Callback。"><a href="#41-不用于事件的委托-delegate-类型，需要加后缀Callback。" class="headerlink" title="41.不用于事件的委托(delegate)类型，需要加后缀Callback。"></a>41.不用于事件的委托(delegate)类型，需要加后缀Callback。</h4><h4 id="42-继承System-EventArgs的类，需要加后缀EventArgs。"><a href="#42-继承System-EventArgs的类，需要加后缀EventArgs。" class="headerlink" title="42.继承System.EventArgs的类，需要加后缀EventArgs。"></a>42.继承System.EventArgs的类，需要加后缀EventArgs。</h4><h4 id="43-继承System-Exception的类，需要加后缀Exception。"><a href="#43-继承System-Exception的类，需要加后缀Exception。" class="headerlink" title="43.继承System.Exception的类，需要加后缀Exception。"></a>43.继承System.Exception的类，需要加后缀Exception。</h4><h4 id="44-实现System-Collecions-IDictionary接口的类，需要加后缀Dictionary。"><a href="#44-实现System-Collecions-IDictionary接口的类，需要加后缀Dictionary。" class="headerlink" title="44.实现System.Collecions.IDictionary接口的类，需要加后缀Dictionary。"></a>44.实现System.Collecions.IDictionary接口的类，需要加后缀Dictionary。</h4><h4 id="45-实现System-Collections-ICollection-IList-IEnumerable-接口的类，需要加后缀Collection。"><a href="#45-实现System-Collections-ICollection-IList-IEnumerable-接口的类，需要加后缀Collection。" class="headerlink" title="45.实现System.Collections.(ICollection|IList|IEnumerable)接口的类，需要加后缀Collection。"></a>45.实现System.Collections.(ICollection|IList|IEnumerable)接口的类，需要加后缀Collection。</h4><h4 id="46-继承System-IO-Stream的类，需要加后缀Stream。"><a href="#46-继承System-IO-Stream的类，需要加后缀Stream。" class="headerlink" title="46.继承System.IO.Stream的类，需要加后缀Stream。"></a>46.继承System.IO.Stream的类，需要加后缀Stream。</h4><h4 id="47-继承System-Security-CodeAccessPermission的类，需要加后缀Permission。"><a href="#47-继承System-Security-CodeAccessPermission的类，需要加后缀Permission。" class="headerlink" title="47.继承System.Security.CodeAccessPermission的类，需要加后缀Permission。"></a>47.继承System.Security.CodeAccessPermission的类，需要加后缀Permission。</h4><h3 id="2-6-4-枚举命名"><a href="#2-6-4-枚举命名" class="headerlink" title="2.6.4.枚举命名"></a>2.6.4.枚举命名</h3><h4 id="48-不要在枚举值前加前缀。"><a href="#48-不要在枚举值前加前缀。" class="headerlink" title="48.不要在枚举值前加前缀。"></a>48.不要在枚举值前加前缀。</h4><p>例如：不要写成如下形式</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Teams</span><br><span class="line">&#123;</span><br><span class="line">    TeamsAlpha,</span><br><span class="line">    TeamsBeta,</span><br><span class="line">    TeamsDelta</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>应该写为：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Teams</span><br><span class="line">&#123;</span><br><span class="line">    Alpha,</span><br><span class="line">    Beta,</span><br><span class="line">    Delta</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="49-不要在枚举类型加后缀Enum。"><a href="#49-不要在枚举类型加后缀Enum。" class="headerlink" title="49.不要在枚举类型加后缀Enum。"></a>49.不要在枚举类型加后缀Enum。</h4><h4 id="50-不要在Flags枚举类型加后缀Flags。"><a href="#50-不要在Flags枚举类型加后缀Flags。" class="headerlink" title="50.不要在Flags枚举类型加后缀Flags。"></a>50.不要在Flags枚举类型加后缀Flags。</h4><h4 id="51-用单数词作为枚举名称，除非它是Flags枚举类型。"><a href="#51-用单数词作为枚举名称，除非它是Flags枚举类型。" class="headerlink" title="51.用单数词作为枚举名称，除非它是Flags枚举类型。"></a>51.用单数词作为枚举名称，除非它是Flags枚举类型。</h4><h4 id="52-用复数词作为Flags枚举类型。"><a href="#52-用复数词作为Flags枚举类型。" class="headerlink" title="52.用复数词作为Flags枚举类型。"></a>52.用复数词作为Flags枚举类型。</h4><h2 id="2-7-类成员命名"><a href="#2-7-类成员命名" class="headerlink" title="2.7.类成员命名"></a>2.7.类成员命名</h2><h3 id="2-7-1-方法命名"><a href="#2-7-1-方法命名" class="headerlink" title="2.7.1.方法命名"></a>2.7.1.方法命名</h3><h4 id="53-方法名称应为动词或动词短语。"><a href="#53-方法名称应为动词或动词短语。" class="headerlink" title="53.方法名称应为动词或动词短语。"></a>53.方法名称应为动词或动词短语。</h4><p>应从使用者的角度命名，选择描述函数做什么的动词，而不是怎么做的动词。</p>
<h3 id="2-7-2-属性命名"><a href="#2-7-2-属性命名" class="headerlink" title="2.7.2.属性命名"></a>2.7.2.属性命名</h3><h4 id="54-属性采用名词、名词短语或形容词命名。"><a href="#54-属性采用名词、名词短语或形容词命名。" class="headerlink" title="54.属性采用名词、名词短语或形容词命名。"></a>54.属性采用名词、名词短语或形容词命名。</h4><h4 id="55-不要让属性名称与Get方法的名称相匹配。"><a href="#55-不要让属性名称与Get方法的名称相匹配。" class="headerlink" title="55.不要让属性名称与Get方法的名称相匹配。"></a>55.不要让属性名称与Get方法的名称相匹配。</h4><p>例如：属性名为EmployeeRecord，同时有个方法名为GetEmployeeRecord。使用者将无从选择。</p>
<h4 id="56-布尔类型属性，采用肯定语气命名。使用Is-Can或Has作前缀，如果他们能增加清晰性。"><a href="#56-布尔类型属性，采用肯定语气命名。使用Is-Can或Has作前缀，如果他们能增加清晰性。" class="headerlink" title="56.布尔类型属性，采用肯定语气命名。使用Is,Can或Has作前缀，如果他们能增加清晰性。"></a>56.布尔类型属性，采用肯定语气命名。使用Is,Can或Has作前缀，如果他们能增加清晰性。</h4><p>例如：使用CanSeek而不是CantSeek。</p>
<h4 id="57-考虑属性使用与其类型相同的名称。"><a href="#57-考虑属性使用与其类型相同的名称。" class="headerlink" title="57.考虑属性使用与其类型相同的名称。"></a>57.考虑属性使用与其类型相同的名称。</h4><p>例如：属性类型为CacheLevel，其名称也为CacheLevel。</p>
<h3 id="2-7-3-事件命名"><a href="#2-7-3-事件命名" class="headerlink" title="2.7.3.事件命名"></a>2.7.3.事件命名</h3><h4 id="58-事件采用动词或动词短语命名。"><a href="#58-事件采用动词或动词短语命名。" class="headerlink" title="58.事件采用动词或动词短语命名。"></a>58.事件采用动词或动词短语命名。</h4><h4 id="59-让事件名称拥有前后的事件概念，采用现在进行时或过去时。"><a href="#59-让事件名称拥有前后的事件概念，采用现在进行时或过去时。" class="headerlink" title="59.让事件名称拥有前后的事件概念，采用现在进行时或过去时。"></a>59.让事件名称拥有前后的事件概念，采用现在进行时或过去时。</h4><p>例如：在窗口关闭之前的事件，被称为Closing。</p>
<p>例如：在窗口关闭之后的事件，被称为Closed。</p>
<h4 id="60-不要在事件名称中使用Before、After前缀或后缀，来标示前后事件。"><a href="#60-不要在事件名称中使用Before、After前缀或后缀，来标示前后事件。" class="headerlink" title="60.不要在事件名称中使用Before、After前缀或后缀，来标示前后事件。"></a>60.不要在事件名称中使用Before、After前缀或后缀，来标示前后事件。</h4><h4 id="61-使用两个参数Sender，e作为事件处理参数。Sender类型为object，e类型为EventArs或其继承类型。"><a href="#61-使用两个参数Sender，e作为事件处理参数。Sender类型为object，e类型为EventArs或其继承类型。" class="headerlink" title="61.使用两个参数Sender，e作为事件处理参数。Sender类型为object，e类型为EventArs或其继承类型。"></a>61.使用两个参数Sender，e作为事件处理参数。Sender类型为object，e类型为EventArs或其继承类型。</h4><h4 id="62-EventHandler，EventArgs相关命名见一般类型命名。"><a href="#62-EventHandler，EventArgs相关命名见一般类型命名。" class="headerlink" title="62.EventHandler，EventArgs相关命名见一般类型命名。"></a>62.EventHandler，EventArgs相关命名见一般类型命名。</h4><h3 id="2-7-4-字段命名"><a href="#2-7-4-字段命名" class="headerlink" title="2.7.4.字段命名"></a>2.7.4.字段命名</h3><h4 id="63-采用名词或名词短语命名。"><a href="#63-采用名词或名词短语命名。" class="headerlink" title="63.采用名词或名词短语命名。"></a>63.采用名词或名词短语命名。</h4><h2 id="2-8-参数命名"><a href="#2-8-参数命名" class="headerlink" title="2.8.参数命名"></a>2.8.参数命名</h2><h4 id="64-使用描述性的名称。在大多数情形下，参数类型及其名称，应能确定参数的用途。"><a href="#64-使用描述性的名称。在大多数情形下，参数类型及其名称，应能确定参数的用途。" class="headerlink" title="64.使用描述性的名称。在大多数情形下，参数类型及其名称，应能确定参数的用途。"></a>64.使用描述性的名称。在大多数情形下，参数类型及其名称，应能确定参数的用途。</h4><h4 id="65-命名应该基于参数的含义而不是类型。"><a href="#65-命名应该基于参数的含义而不是类型。" class="headerlink" title="65.命名应该基于参数的含义而不是类型。"></a>65.命名应该基于参数的含义而不是类型。</h4><h1 id="3-函数编码"><a href="#3-函数编码" class="headerlink" title="3.函数编码"></a>3.函数编码</h1><p>为了增强程序清晰新、可读性，应遵循以下规定。</p>
<h2 id="3-1-空格、空行与缩进的使用"><a href="#3-1-空格、空行与缩进的使用" class="headerlink" title="3.1.空格、空行与缩进的使用"></a>3.1.空格、空行与缩进的使用</h2><h4 id="66-函数参数在”-”后需要空格。"><a href="#66-函数参数在”-”后需要空格。" class="headerlink" title="66.函数参数在”,”后需要空格。"></a>66.函数参数在”,”后需要空格。</h4><p>例如：Function(param1, param2, param3);</p>
<h4 id="67-各种双目操作符，比如“-”、“-lt-“等，前后需要有空格。"><a href="#67-各种双目操作符，比如“-”、“-lt-“等，前后需要有空格。" class="headerlink" title="67.各种双目操作符，比如“=”、“&lt;“等，前后需要有空格。"></a>67.各种双目操作符，比如“=”、“&lt;“等，前后需要有空格。</h4><h4 id="68-if-while等关键字后面需要有空格。"><a href="#68-if-while等关键字后面需要有空格。" class="headerlink" title="68.if, while等关键字后面需要有空格。"></a>68.if, while等关键字后面需要有空格。</h4><h4 id="69-每次使用嵌套，嵌套体的所有内容必须缩进，使用Tab作为缩进符号。"><a href="#69-每次使用嵌套，嵌套体的所有内容必须缩进，使用Tab作为缩进符号。" class="headerlink" title="69.每次使用嵌套，嵌套体的所有内容必须缩进，使用Tab作为缩进符号。"></a>69.每次使用嵌套，嵌套体的所有内容必须缩进，使用Tab作为缩进符号。</h4><h4 id="70-每个函数之间空两行。"><a href="#70-每个函数之间空两行。" class="headerlink" title="70.每个函数之间空两行。"></a>70.每个函数之间空两行。</h4><h4 id="71-适当的增加空行，以区分方法内的大块逻辑。"><a href="#71-适当的增加空行，以区分方法内的大块逻辑。" class="headerlink" title="71.适当的增加空行，以区分方法内的大块逻辑。"></a>71.适当的增加空行，以区分方法内的大块逻辑。</h4><p>有时候在同一个方法中有明显的程序功能归组情况，而又不需要划分到单独的方法，此时应当用空行加以区分，并加注释。</p>
<h2 id="3-2-一般编码约定"><a href="#3-2-一般编码约定" class="headerlink" title="3.2.一般编码约定"></a>3.2.一般编码约定</h2><h4 id="72-代码行数不应超过80行。（不超出两屏长度）"><a href="#72-代码行数不应超过80行。（不超出两屏长度）" class="headerlink" title="72.代码行数不应超过80行。（不超出两屏长度）"></a>72.代码行数不应超过80行。（不超出两屏长度）</h4><p>行数过多的代码不易于阅读，这也说明了模块化分可能存在问题。应该考虑将一个大的方法体拆分为更小的方法，以增加代码的清晰性。</p>
<h4 id="73-一个代码行长度不应超过80个字符。（不超出一屏宽度）"><a href="#73-一个代码行长度不应超过80个字符。（不超出一屏宽度）" class="headerlink" title="73.一个代码行长度不应超过80个字符。（不超出一屏宽度）"></a>73.一个代码行长度不应超过80个字符。（不超出一屏宽度）</h4><p>过长的代码行不易于阅读，当一行的确需要写很长时，应当折行书写。</p>
<h4 id="74-一般情况下不可以使用goto语句，除非goto能够加强程序的清晰性。"><a href="#74-一般情况下不可以使用goto语句，除非goto能够加强程序的清晰性。" class="headerlink" title="74. 一般情况下不可以使用goto语句，除非goto能够加强程序的清晰性。"></a>74. 一般情况下不可以使用goto语句，除非goto能够加强程序的清晰性。</h4><p>有时需要一次跳出多层循环，使用goto更为清晰。</p>
<h4 id="75-诸如for、if、foreach、while等嵌套层数不要超过3层，try-catch除外。"><a href="#75-诸如for、if、foreach、while等嵌套层数不要超过3层，try-catch除外。" class="headerlink" title="75.诸如for、if、foreach、while等嵌套层数不要超过3层，try-catch除外。"></a>75.诸如for、if、foreach、while等嵌套层数不要超过3层，try-catch除外。</h4><p>主体逻辑代码嵌套过深，不易于阅读及理解。这也说明了逻辑或模块化分可能存在问题。应考虑修改逻辑，或将嵌套内的程序划分到一个更小的方法中。以增加清晰性。</p>
<h4 id="76-变量在离其最近使用的地方声明。"><a href="#76-变量在离其最近使用的地方声明。" class="headerlink" title="76.变量在离其最近使用的地方声明。"></a>76.变量在离其最近使用的地方声明。</h4><p>不要采用C或Pascal等语言在函数开头声明参数的方式。应该在使用时声明。</p>
<h4 id="77-同一个类型的不同方法中不要出现重复代码。"><a href="#77-同一个类型的不同方法中不要出现重复代码。" class="headerlink" title="77.同一个类型的不同方法中不要出现重复代码。"></a>77.同一个类型的不同方法中不要出现重复代码。</h4><p>同一个类型的不同方法中出现大块的重复性代码，说明模块划分出现了问题，应当将重复性的代码划分到一个更小的方法中。以增加清晰性。</p>
<h1 id="4-异常处理"><a href="#4-异常处理" class="headerlink" title="4.异常处理"></a>4.异常处理</h1><h4 id="78-在框架代码中，不要通过捕获非特定异常的方式（如：Exception、SystemException），淹没（swallow）错误。"><a href="#78-在框架代码中，不要通过捕获非特定异常的方式（如：Exception、SystemException），淹没（swallow）错误。" class="headerlink" title="78.在框架代码中，不要通过捕获非特定异常的方式（如：Exception、SystemException），淹没（swallow）错误。"></a>78.在框架代码中，不要通过捕获非特定异常的方式（如：Exception、SystemException），淹没（swallow）错误。</h4><p>你可以捕获上述的异常，如果捕获的目的是重新抛出异常，或将异常交给其他线程处理。下面展示了一个错误处理的例子：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BadExceptionHandlingExample1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoWork</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">// 做一些可能抛出异常的工作</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MethodWithBadHandler</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">try</span> </span><br><span class="line">        &#123;</span><br><span class="line">            DoWork();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 淹没了异常并继续执行</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="79-在应用代码中，避免通过捕获非特定异常的方式（如：Exception、SystemException），淹没（swallow）错误。有些情况下在应用中淹没错误是可以接受的，但是这种情况很少见。"><a href="#79-在应用代码中，避免通过捕获非特定异常的方式（如：Exception、SystemException），淹没（swallow）错误。有些情况下在应用中淹没错误是可以接受的，但是这种情况很少见。" class="headerlink" title="79.在应用代码中，避免通过捕获非特定异常的方式（如：Exception、SystemException），淹没（swallow）错误。有些情况下在应用中淹没错误是可以接受的，但是这种情况很少见。"></a>79.在应用代码中，避免通过捕获非特定异常的方式（如：Exception、SystemException），淹没（swallow）错误。有些情况下在应用中淹没错误是可以接受的，但是这种情况很少见。</h4><p>应用程序不应淹没可能造成意外状态的异常，如果你不能确认所有异常造成的可能结果，你应当让程序终止而不是淹没异常。</p>
<h4 id="80-捕获特定的异常，如果你理解为什么它会从给定的上下文中抛出。"><a href="#80-捕获特定的异常，如果你理解为什么它会从给定的上下文中抛出。" class="headerlink" title="80.捕获特定的异常，如果你理解为什么它会从给定的上下文中抛出。"></a>80.捕获特定的异常，如果你理解为什么它会从给定的上下文中抛出。</h4><p>你应该只捕获那些你可以恢复的异常。例如：打开不存在文件造成的FileNotFoundException可以被应用程序处理，因为它可以将问题告知用户，并让用户设置其他文件名。而打开文件请求抛出的ExcutionEngineException不应当被处理，因为低层发生的问题无法被知晓，并且应用程序也不能确认继续运行是否安全。</p>
<h4 id="81-不要过度使用catch。异常应当尽可能向调用堆栈上层传递。"><a href="#81-不要过度使用catch。异常应当尽可能向调用堆栈上层传递。" class="headerlink" title="81.不要过度使用catch。异常应当尽可能向调用堆栈上层传递。"></a>81.不要过度使用catch。异常应当尽可能向调用堆栈上层传递。</h4><p>捕获无法正确处理的异常，会隐藏重要的调试信息。</p>
<h4 id="82-将清理代码放在finally块中，而不是catch块中。对于书写优良的代码，try-finally比try-catch更为常见。"><a href="#82-将清理代码放在finally块中，而不是catch块中。对于书写优良的代码，try-finally比try-catch更为常见。" class="headerlink" title="82.将清理代码放在finally块中，而不是catch块中。对于书写优良的代码，try-finally比try-catch更为常见。"></a>82.将清理代码放在finally块中，而不是catch块中。对于书写优良的代码，try-finally比try-catch更为常见。</h4><p>catch的目的是为了让你处理异常（例如，记录非致命错误）。finally的目的是为了让你执行清理代码而不管异常是否抛出。如果你分配了有限的资源，比如数据库联接或stream，你应当将释放它们的代码放在finally块中。</p>
<h4 id="83-当捕获并重新抛出异常时，使用空的throw。这是保存调用堆栈的最好的方法。"><a href="#83-当捕获并重新抛出异常时，使用空的throw。这是保存调用堆栈的最好的方法。" class="headerlink" title="83.当捕获并重新抛出异常时，使用空的throw。这是保存调用堆栈的最好的方法。"></a>83.当捕获并重新抛出异常时，使用空的throw。这是保存调用堆栈的最好的方法。</h4><p>例如：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MethodWithBadCatch</span>(<span class="params">Object anObject</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span> </span><br><span class="line">    &#123;</span><br><span class="line">	    <span class="comment">// 引起异常的方法</span></span><br><span class="line">        DoWork(anObject);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (ArgumentNullException e)</span><br><span class="line">    &#123;</span><br><span class="line">        System.Diagnostics.Debug.Write(e.Message);</span><br><span class="line">        <span class="comment">// 这样是错误的</span></span><br><span class="line">        <span class="comment">// 会造成跟踪堆栈指向此处为错误地址，而非指向DoWork。</span></span><br><span class="line">        <span class="keyword">throw</span> e; </span><br><span class="line">        <span class="comment">// 应该直接写成</span></span><br><span class="line">        <span class="comment">// throw;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-注释规范"><a href="#5-注释规范" class="headerlink" title="5.注释规范"></a>5.注释规范</h1><h2 id="5-1-C-标准-注释的使用"><a href="#5-1-C-标准-注释的使用" class="headerlink" title="5.1.C#标准///注释的使用"></a>5.1.C#标准///注释的使用</h2><h4 id="84-每个类必须注释，采用C-标准-注释，并在Summary中写明此类的主要功能，根据需要在Remark中进行详细描述，如关键设计思路。"><a href="#84-每个类必须注释，采用C-标准-注释，并在Summary中写明此类的主要功能，根据需要在Remark中进行详细描述，如关键设计思路。" class="headerlink" title="84.每个类必须注释，采用C#标准///注释，并在Summary中写明此类的主要功能，根据需要在Remark中进行详细描述，如关键设计思路。"></a>84.每个类必须注释，采用C#标准///注释，并在Summary中写明此类的主要功能，根据需要在Remark中进行详细描述，如关键设计思路。</h4><h4 id="85-每个属性必须注释，采用C-标准-注释，并在Summary中写明此属性的含义。"><a href="#85-每个属性必须注释，采用C-标准-注释，并在Summary中写明此属性的含义。" class="headerlink" title="85.每个属性必须注释，采用C#标准///注释，并在Summary中写明此属性的含义。"></a>85.每个属性必须注释，采用C#标准///注释，并在Summary中写明此属性的含义。</h4><h4 id="86-每个方法必须注释，采用C-标准-注释，并在Summary中写明此函数主要功能。根据需要在Remark中进行详细描述。"><a href="#86-每个方法必须注释，采用C-标准-注释，并在Summary中写明此函数主要功能。根据需要在Remark中进行详细描述。" class="headerlink" title="86.每个方法必须注释，采用C#标准///注释，并在Summary中写明此函数主要功能。根据需要在Remark中进行详细描述。"></a>86.每个方法必须注释，采用C#标准///注释，并在Summary中写明此函数主要功能。根据需要在Remark中进行详细描述。</h4><h2 id="5-2-一般注释"><a href="#5-2-一般注释" class="headerlink" title="5.2.一般注释"></a>5.2.一般注释</h2><h4 id="87-当代码无法通过直接阅读而清晰获理解它的功能的时候，需要加注释。"><a href="#87-当代码无法通过直接阅读而清晰获理解它的功能的时候，需要加注释。" class="headerlink" title="87.当代码无法通过直接阅读而清晰获理解它的功能的时候，需要加注释。"></a>87.当代码无法通过直接阅读而清晰获理解它的功能的时候，需要加注释。</h4><p>例如：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (password == “<span class="number">12345</span>”) <span class="comment">// 这是超级密码，通过后拥有管理员权限</span></span><br></pre></td></tr></table></figure>
<h4 id="88-当一段代码有单一目的，而没有分隔为一个函数的时候，用注释标明分段功能。"><a href="#88-当一段代码有单一目的，而没有分隔为一个函数的时候，用注释标明分段功能。" class="headerlink" title="88.当一段代码有单一目的，而没有分隔为一个函数的时候，用注释标明分段功能。"></a>88.当一段代码有单一目的，而没有分隔为一个函数的时候，用注释标明分段功能。</h4><p>例如：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加用户</span></span><br><span class="line">Line1;</span><br><span class="line">Line2;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加用户组</span></span><br><span class="line">Line1;</span><br><span class="line">Line2;</span><br></pre></td></tr></table></figure>
<h4 id="89-当一个嵌套很长，或者有多个嵌套时，需要在结尾加上注释。"><a href="#89-当一个嵌套很长，或者有多个嵌套时，需要在结尾加上注释。" class="headerlink" title="89.当一个嵌套很长，或者有多个嵌套时，需要在结尾加上注释。"></a>89.当一个嵌套很长，或者有多个嵌套时，需要在结尾加上注释。</h4><p>例如：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> （a &gt; b）</span><br><span class="line">&#123;</span><br><span class="line">    ......</span><br><span class="line">&#125; <span class="comment">// end if (a &gt; b)</span></span><br></pre></td></tr></table></figure>
<h2 id="5-3-其他注释"><a href="#5-3-其他注释" class="headerlink" title="5.3.其他注释"></a>5.3.其他注释</h2><h4 id="90-在准备添加代码的地方加入-TODO-注释。"><a href="#90-在准备添加代码的地方加入-TODO-注释。" class="headerlink" title="90.在准备添加代码的地方加入//TODO 注释。"></a>90.在准备添加代码的地方加入//TODO 注释。</h4><h4 id="91-类似功能的一组函数，需要用-region来包围起来，并做说明。"><a href="#91-类似功能的一组函数，需要用-region来包围起来，并做说明。" class="headerlink" title="91.类似功能的一组函数，需要用#region来包围起来，并做说明。"></a>91.类似功能的一组函数，需要用#region来包围起来，并做说明。</h4><p>例如：一组函数都是和用户帐务操作有关的。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">region</span> 用户帐务操作相关函数</span></span><br><span class="line">Function1;</span><br><span class="line">......</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endregion</span></span></span><br></pre></td></tr></table></figure>
<h1 id="6-日志规范"><a href="#6-日志规范" class="headerlink" title="6.日志规范"></a>6.日志规范</h1><h4 id="92-对于包含方法成员的类，尽可能使用log4net，以方便程序调试。Log成员定义写在类代码的第一行，内容如下："><a href="#92-对于包含方法成员的类，尽可能使用log4net，以方便程序调试。Log成员定义写在类代码的第一行，内容如下：" class="headerlink" title="92.对于包含方法成员的类，尽可能使用log4net，以方便程序调试。Log成员定义写在类代码的第一行，内容如下："></a>92.对于包含方法成员的类，尽可能使用log4net，以方便程序调试。Log成员定义写在类代码的第一行，内容如下：</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> log4net.ILog log = log4net.LogManager.GetLogger(System.Reflection.MethodBase.GetCurrentMethod().DeclaringType);</span><br></pre></td></tr></table></figure>
<h4 id="93-需要加条件判断是否需要记录log，以增加程序性能，除非log直接输出简单字符串。"><a href="#93-需要加条件判断是否需要记录log，以增加程序性能，除非log直接输出简单字符串。" class="headerlink" title="93.需要加条件判断是否需要记录log，以增加程序性能，除非log直接输出简单字符串。"></a>93.需要加条件判断是否需要记录log，以增加程序性能，除非log直接输出简单字符串。</h4><p>例如：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">log.Debug(“简单字符串”); <span class="comment">// 不需要判断</span></span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (log.IsDebugEnabled) <span class="comment">// 有字符串等操作，需要判断</span></span><br><span class="line">    log.Debug(<span class="string">&quot;成功添加用户:&quot;</span> + user.UserID); </span><br></pre></td></tr></table></figure>
<h4 id="94-日志级别："><a href="#94-日志级别：" class="headerlink" title="94.日志级别："></a>94.日志级别：</h4><ul>
<li>Fatal级：程序重大错误，以致无法启动或继续运行。</li>
<li>Error级：程序本身出错，或加载资源错误。注意此错误不是用户造成的错误，比如输入密码错。</li>
<li>Warning级：用户的一些错误可以记录到此级别，比如用户名密码输入错误。</li>
<li>Info级：程序运行时，会将log开到这个级别。此级别记录让用户看到的日志信息。比如程序启动，重要配置文件加载，访问某个页面等较大的事件。</li>
<li>Debug级：琐碎的方法调用过程记录。诸如方法进入、返回，方法内的重要事件。</li>
</ul>
<h4 id="95-重要函数（比如Page-Load）记录用时，可使用StopWatch。"><a href="#95-重要函数（比如Page-Load）记录用时，可使用StopWatch。" class="headerlink" title="95.重要函数（比如Page_Load）记录用时，可使用StopWatch。"></a>95.重要函数（比如Page_Load）记录用时，可使用StopWatch。</h4><h4 id="96-公共（public）方法或属性内的日志，需要记录方法或属性名。"><a href="#96-公共（public）方法或属性内的日志，需要记录方法或属性名。" class="headerlink" title="96.公共（public）方法或属性内的日志，需要记录方法或属性名。"></a>96.公共（public）方法或属性内的日志，需要记录方法或属性名。</h4><p>例如：log.Debug(“MethodName 开始准备数据表格”);</p>
<h4 id="97-公共-public-方法，在方法代码第一行记录日志，标明此方法被调用并记下传入参数。（即进入时记录。）"><a href="#97-公共-public-方法，在方法代码第一行记录日志，标明此方法被调用并记下传入参数。（即进入时记录。）" class="headerlink" title="97.公共(public)方法，在方法代码第一行记录日志，标明此方法被调用并记下传入参数。（即进入时记录。）"></a>97.公共(public)方法，在方法代码第一行记录日志，标明此方法被调用并记下传入参数。（即进入时记录。）</h4><p>例如：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddUser</span>(<span class="params"> <span class="keyword">string</span> userName, <span class="keyword">string</span> password</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (log.IsDebugEnabled)</span><br><span class="line">        log.Debug(“AddUser调用 username:” + userName  + “, password:” + password);</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="98-公共-public-方法返回前，记录日志，标明此方法结束并记下返回结果。如果返回内容过于复杂，比如为DataSet，可以简单记录其特征（记录数）。如果没有返回结果，比如void方法，直接标明返回即可。（即返回时记录。）"><a href="#98-公共-public-方法返回前，记录日志，标明此方法结束并记下返回结果。如果返回内容过于复杂，比如为DataSet，可以简单记录其特征（记录数）。如果没有返回结果，比如void方法，直接标明返回即可。（即返回时记录。）" class="headerlink" title="98.公共(public)方法返回前，记录日志，标明此方法结束并记下返回结果。如果返回内容过于复杂，比如为DataSet，可以简单记录其特征（记录数）。如果没有返回结果，比如void方法，直接标明返回即可。（即返回时记录。）"></a>98.公共(public)方法返回前，记录日志，标明此方法结束并记下返回结果。如果返回内容过于复杂，比如为DataSet，可以简单记录其特征（记录数）。如果没有返回结果，比如void方法，直接标明返回即可。（即返回时记录。）</h4><p>例如：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">log.Debug(“AddUser 成功返回”);</span><br></pre></td></tr></table></figure>
<h4 id="99-在捕获异常时，需要记录日志，以及异常内容。（即截获异常时记录。）"><a href="#99-在捕获异常时，需要记录日志，以及异常内容。（即截获异常时记录。）" class="headerlink" title="99.在捕获异常时，需要记录日志，以及异常内容。（即截获异常时记录。）"></a>99.在捕获异常时，需要记录日志，以及异常内容。（即截获异常时记录。）</h4><p>例如：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">catch</span>(Exception ex)</span><br><span class="line">    log.Debug(“AddUser出错”, ex);</span><br></pre></td></tr></table></figure>
<h4 id="100-在方法内有重要逻辑过程需要记录时，记录日志。（即重要逻辑记录。）"><a href="#100-在方法内有重要逻辑过程需要记录时，记录日志。（即重要逻辑记录。）" class="headerlink" title="100.在方法内有重要逻辑过程需要记录时，记录日志。（即重要逻辑记录。）"></a>100.在方法内有重要逻辑过程需要记录时，记录日志。（即重要逻辑记录。）</h4><h4 id="101-在对外提供接口，而接口实现组件可由第三方开发时。需要在接口调用前后记录日志。（即三方组件调用时记录。）"><a href="#101-在对外提供接口，而接口实现组件可由第三方开发时。需要在接口调用前后记录日志。（即三方组件调用时记录。）" class="headerlink" title="101.在对外提供接口，而接口实现组件可由第三方开发时。需要在接口调用前后记录日志。（即三方组件调用时记录。）"></a>101.在对外提供接口，而接口实现组件可由第三方开发时。需要在接口调用前后记录日志。（即三方组件调用时记录。）</h4><p>此条规则可以帮助我们迅速定位第三方错误，而不会因为两方都未正确记录日志而纠缠不清。</p>
<h4 id="102-最外层代码（如Page-Load）要在最外层写try-catch-Excpetion-的代码，并记录异常。如果不知道如何处理，直接throw。"><a href="#102-最外层代码（如Page-Load）要在最外层写try-catch-Excpetion-的代码，并记录异常。如果不知道如何处理，直接throw。" class="headerlink" title="102.最外层代码（如Page_Load）要在最外层写try,catch(Excpetion)的代码，并记录异常。如果不知道如何处理，直接throw。"></a>102.最外层代码（如Page_Load）要在最外层写try,catch(Excpetion)的代码，并记录异常。如果不知道如何处理，直接throw。</h4></div><div class="article-licensing box"><div class="licensing-title"><p>C#编码规范</p><p><a href="https://zshipu.com/2019/11/22/C-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/">https://zshipu.com/2019/11/22/C-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>知识铺</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2019-11-22</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2020-09-08</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5f58e448b1477000121881fb&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay.jpg" alt="支付宝"></span></a><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/weixin.jpg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2019/11/22/Java%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Java编码规范</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2019/11/22/HTML%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%832/"><span class="level-item">HTML编码规范2</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://zshipu.com/2019/11/22/C-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/';
            this.page.identifier = '2019/11/22/C-编码规范/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'zsp' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://www.gravatar.com/avatar/2396bdfe5aadb513e676094004dde830?s=128" alt="edwin"></figure><p class="title is-size-4 is-block line-height-inherit">edwin</p><p class="is-size-6 is-block">知识铺</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>中国 杭州</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">189</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">2</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/liliang8858" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/liliang8858"><i class="Github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="社区"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="设计"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/go/"><span class="level-start"><span class="level-item">go</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-16T10:43:02.000Z">2020-07-16</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/16/Spring%20Cloud%20Gateway+Nacos%EF%BC%8Cyml+properties%E4%B8%A4%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%96%B9%E5%BC%8F%E6%90%AD%E5%BB%BA%E7%BD%91%E5%85%B3%E6%9C%8D%E5%8A%A1/">Spring Cloud Gateway+Nacos，yml+properties两种配置文件方式搭建网关服务</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-16T10:39:59.000Z">2020-07-16</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/16/Spring%20Cloud+nacos+Feign%EF%BC%8C%E5%AE%9E%E7%8E%B0%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E5%8F%8A%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/">Spring Cloud+nacos+Feign，实现注册中心及配置中心</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-16T10:32:26.000Z">2020-07-16</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/16/Nacos%E4%BD%9C%E4%B8%BA%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%E6%97%B6%EF%BC%8C%E5%A4%9A%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%85%B1%E7%94%A8%E4%B8%80%E4%B8%AAdataId%E7%9A%84%E9%85%8D%E7%BD%AE/">Nacos作为配置中心时，多个服务共用一个dataId的配置</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-16T09:34:29.000Z">2020-07-16</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/16/SpringCloudAlibaba(%E4%B8%89)%EF%BC%9A%E4%BD%BF%E7%94%A8Nacos%E4%BD%9C%E4%B8%BA%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/">SpringCloudAlibaba(三)：使用Nacos作为配置中心</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-16T09:31:53.000Z">2020-07-16</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/16/Nacos%20%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/">Nacos 集群部署</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">37</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">五月 2020</span></span><span class="level-end"><span class="level-item tag">29</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">四月 2020</span></span><span class="level-end"><span class="level-item tag">62</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">三月 2020</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">十二月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/11/"><span class="level-start"><span class="level-item">十一月 2019</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/go/"><span class="tag">go</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/web/"><span class="tag">web</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="订阅"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">广告</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="2183476622" data-ad-slot="pub-2874221941555456" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="知识铺" height="28"></a><p class="size-small"><span>&copy; 2020 知识铺</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://zshipu.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>